<html>
  <head>
    <title>Node Chat Room</title>
    <script src="socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="style.css">

  </head>
  <body>
    <div class="header">Chat Room</div>

    <div class="logIn">
    <div id="MessageBox">
      <span class="message"> </span>
    </div>
  <div class="footer">
      <input type="text"  id="sendMessage">
      <input type="button" value="submit" id="submit" onclick="sendMessage()">
  </div>

    <script type="text/javascript">
      var  submit = document.getElementById("submit");
      var txt = document.getElementById("sendMessage");

      txt.addEventListener("keypress", function() {
        if (event.keyCode == 13) submit.click();
      });

    		var socket = io.connect();
        var tempMessage = " ";
        socket.on('message', function(data){
          console.log("Message Recieved" + data.value);
          tempMessage = data.value;
          document.getElementById("MessageBox").innerHTML =
          document.getElementById("MessageBox").innerHTML + '<br><span style="color:red" class="message">' + tempMessage + '</span>';
        });

        function sendMessage(){
          console.log("Message Sent");
          document.getElementById("MessageBox").innerHTML + '<br><span style="color:green" class="message">' + document.getElementById('sendMessage').value + '</span>';
          socket.emit('message', {value: document.getElementById('sendMessage').value, title: "User1"});

          document.getElementById('sendMessage').value = "";

        }
    </script>
  </body>
